{% extends 'base_2.html' %}
{% load static %}
{% load mathfilters %}

{% block content %} 
	<div class="kt-portlet kt-portlet--height-fluid">
		<div class="kt-portlet__body">
			<div class="container">
				<div class="row mb-2">
                    <h3>School Dashboard</h3>                   
                </div>

                <div class="row mb-3">
                    
                   
                    <div class="col-sm-12">
                        <a href="{% url 'college_admin' %}" class="btn btn-primary p-2 m-1 rounded-pill">Home</a>
                        <a href="{% url 'students' %}" class="btn btn-primary p-2 m-1 rounded-pill">Students</a>
                        <a href="{% url 'faculty' %}" class="btn btn-primary p-2 m-1 rounded-pill">Faculty</a>
                        <a href="{% url 'score' %}" class="btn btn-secondary p-2 m-1 rounded-pill">Score</a>
                        <a href="{% url 'view_post' %}" class="btn btn-primary p-2 m-1 rounded-pill">Post</a>
                        <a href="{% url 'resource_list' %}" class="btn btn-primary p-2 m-1 rounded-pill">Resource</a>
                    </div>
                    
                </div>

                <a class="btn btn-primary" href="{% url 'view_subject' pk=subject.id grade=grade section=section %}">Go Back</a>

                <div class="row">

                
 
                    <div class="col-sm-12 p-4">
                        <h4 class="d-inline">{{subject.subject}} - {{subject.grade}} - {{section}} - Assignments List</h4>  

                        
                        <div class="row">
                            <div class="table-responsive">

                                <table class="table shadow table-striped">
                                    <thead>
                                      <tr>
                                        <th scope="col">Assignment Name</th>
                                        <th scope="col">Question</th>
                                        <th scope="col">Classroom</th>
                                        <th scope="col">Grade</th>
                                        <th scope='col'>Due Date</th>
                                        <th scope="col">Total Strength</th>
                                        <th scope="col">Submitted</th>                          
                                        <th scope="col">Not Submitted</th>
                                        
                                      </tr>
                                    </thead>
                                    <tbody id="assignment_div">
            
                                        {% for assignment in assignments %}
                                            <tr>
                                                <td>{{assignment.title}}</td>
                                                <td><a href="{{assignment.afile.url}}">Download</a></td>
                                                <td>{{assignment.topic.croom.name}}</td>
                                                <td>{{assignment.topic.croom.subject.grade}} - {{assignment.topic.croom.section}}</td>
                                                <td>{{assignment.due_date}}</td>
                                                <td>{{assignment.strength}}</td>
                                                <td><a href="{% url 'view_assignment_submission'  assignment.id %}">{{assignment.submitted_count}}</a></td>
                                                <td><a href="{% url 'view_assignment_not_submission' assignment.id %}">{{ assignment.strength|sub:assignment.submitted_count }} </a></td>
                                            </tr>
                                        {% empty %}
                                            <tr>
                                                <td colspan="10">
                                                    <h6 class="text-center">No Assignments Available..!</h6>
                                                </td>
                                            </tr>
                                        {% endfor %}
                                      
                                    </tbody>
                                  </table>
                    
                            </div>

                        
                         
        
                        </div>
        
                        
                    </div>

                </div>
              
            </div>
        </div>
    </div>

  
 


{% endblock %}